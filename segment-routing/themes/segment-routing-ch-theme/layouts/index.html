{{ define "main" }}

<!-- banner -->
{{ with .Params.banner }}
<section class="banner">
  <div class="container">
    <div class="row">
      <div class="col-lg-10 mx-auto text-center">
        <h1 class="mb-3">{{ .title | markdownify }}</h1>
        <p class="mb-4">{{ .content | markdownify }}</p>
        {{ if .button.enable }}
        {{ with .button }}
        <div><a href="{{ .link | safeURL }}" title="{{ .label }}" class="btn btn-primary">{{ .label }}</a></div>
        {{ end }}
        {{ end }}

        {{with .image}}<img src="{{ . | relURL }}" alt="" class="img-fluid mt-5" width="750px">{{end}}
      </div>
    </div>
  </div>
</section>
{{ end }}
<!-- /banner -->

<!-- feature -->
{{ with .Params.feature }}
{{ if .enable }}
<section class="section bg-light">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 text-center">
        <h2 class="section-title">{{ .title | markdownify }}</h2>
      </div>
      {{ range .feature_item }}
      <div class="col-md-4 col-sm-6 mb-4">  
        <a href="{{ .link | relURL }}">
          <div class="feature-card text-center">
            <i class="{{.icon}} mb-3"></i>
            <h4 class="mb-2">{{ .name | title }}</h4>
            <p>{{ .content | markdownify }}</p>
          </div>
        </a>
      </div>
      {{ end }}
    </div>
  </div>
</section>
{{ end }}
{{ end }}
<!-- /feature -->

<!-- service -->
{{ $i := 0 }}
{{ $articles := where .Site.RegularPages "Section" "articles"}}
{{ $homepageArticles := where $articles "Params.onHomepage" true }}
{{ $paginator := .Paginate $homepageArticles }}
{{ range $paginator.Pages.ByDate.Reverse }}
{{if modBool $i 2}}
<section class="section">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6 order-2 order-md-1">
        <h2 class="section-title">{{ .Title | markdownify }}</h2>
        <p>{{ .Content | markdownify }}</p>
        <a href="{{ .Permalink | relURL }}" title="{{ .Params.buttonLabel }}" class="btn-link">{{ .Params.buttonLabel }} <i class="fas fa-arrow-right"></i></a>
      </div>
      <div class="col-md-6 order-1 order-md-2 mb-4 mb-md-0">
        <div>
          <img src="{{ .Params.image | relURL }}" alt="" class="img-fluid">
        </div>
      </div>
    </div>
  </div>
</section>
{{ else }}
<section class="section bg-light">
  <div class="container">
    <div class="row align-items-center">
      <div class="col-md-6 mb-4 mb-md-0">
        <div>
          <img src="{{ .Params.image | relURL }}" alt="" class="img-fluid">
        </div>
      </div>
      <div class="col-md-6">
        <h2 class="section-title">{{ .Title | markdownify }}</h2>
        <p>{{ .Content | markdownify }}</p>
        <a href="{{ .Permalink | relURL }}" title="{{ .Params.buttonLabel }}" class="btn-link">{{ .Params.buttonLabel }} <i class="fas fa-arrow-right"></i></a>
      </div>
    </div>
  </div>
</section>
{{ end }}
{{ $i = add $i 1 }}
{{ end }}
<!-- /service -->

<!-- screenshot -->
{{ with .Params.screenshot }}
{{ if .enable }}
<section class="section pb-0">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h2 class="section-title">{{ .title | markdownify }}</h2>
      </div>
    </div>
  </div>
  {{ with .image }} <img src="{{ . | relURL }}" alt="" class="img-fluid w-100">{{ end }}
</section>
{{ end }}
{{ end }}
<!-- /screenshot -->

<!-- call to action -->
{{ with .Params.call_to_action }}
{{ if .enable }}
<section class="section">
  <div class="container section shadow rounded-lg px-4">
    <div class="row align-items-center justify-content-center text-center text-md-left">
      <a class="twitter-timeline" data-lang="en" data-theme="light" href="https://twitter.com/SegmentRouting?ref_src=twsrc%5Etfw">Tweets by SegmentRouting</a> <script async src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
    </div>
  </div>
</section>
{{ end }}
{{ end }}
<!-- /call to action -->

{{ end }}
